## Purpose
This directory contains technical specifications and design documents for performance optimizations, UI refinements, and core dictation workflow enhancements. It details the implementation of an in-memory rewrite cache, a UI polish pass for the HUD and status menus, and the integration of streaming STT with fallback mechanisms. These documents define the technical designs, module boundaries, and reliability controls for each issue.

## Key Roles
- `105-rewrite-cache.md`: Details the `RewriteResultCache` actor and its integration into the `DictationPipeline` to reduce latency for repeated transcripts.
- `190-ui-polish-captures.md`: Documents state semantics for status bar icons, HUD view states, and the information architecture for settings and menus.
- `195-streaming-session-flow.md`: Outlines the orchestration of streaming STT, including chunk buffering via `StreamingAudioBridge` and fallback logic to batch processing.

## Dependencies and Caveats
- `RewriteResultCache` is bounded to 128 entries, a 600-second TTL, and a 1,024 character limit per entry.
- `VoxSession` serves as the central toggle point for the rewrite cache and the primary orchestrator for streaming session lifecycles.
- Streaming STT finalization is governed by a bounded timeout scaled by the duration of the streamed audio.
- `StreamingSessionPump` tracks partial transcripts to provide a fallback if the final provider response is empty.
- The `DictationPipeline` maintains a consistent processing contract for both raw transcripts and audio URLs to ensure stable rewrite and paste semantics.
- Rewrite caching is restricted to quality-gate-accepted outputs; non-acceptable candidates are never cached.
- Streaming setup and finalization failures trigger a "fail closed" transition to batch STT to ensure transcript production.
- UI icon semantics are strictly limited to `idle` (open V), `recording` (outlined triangle), and `processing` (filled triangle).