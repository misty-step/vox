## Purpose
This directory provides the user interface and state management for application settings. It enables users to configure audio input devices, monitor global hotkey availability, and manage API keys for cloud-based transcription and text-processing services.

## Key Roles
- **SettingsView.swift**: Serves as the main entry point for the settings UI, composing the layout into sections and managing a sheet for API key entry.
- **PreferencesStore.swift**: Acts as the central state manager for user preferences, handling persistence via `UserDefaults` and coordinating secure API key storage.
- **CloudProviderCatalog.swift**: Defines metadata and fallback logic for supported providers, including ElevenLabs, Deepgram, Gemini, and OpenRouter.
- **BasicsSection.swift**: Manages the configuration of the dictation hotkey and microphone selection, utilizing an observer to track hardware availability.
- **CloudKeysSheet.swift**: Provides a secure interface for inputting service credentials, ensuring keys are only committed to storage when modified.
- **HotkeyState.swift**: Maintains an observable state of the global hotkey's registration status to provide UI feedback when conflicts occur.
- **SettingsSection.swift**: Provides a standardized UI container for grouping related settings with configurable prominence levels.

## Dependencies and Caveats
- Depends on `VoxMac` for `AudioDeviceObserver`, `KeychainHelper`, and the `PreferencesReading` protocol.
- Depends on `VoxCore` for the `ProcessingLevel` enumeration.
- Depends on `VoxDiagnostics` for retrieving application version and support metadata.
- API keys are stored in the macOS Keychain; however, environment variables override Keychain values in debug builds.
- The default `processingLevel` is dynamically set to `.clean` if rewrite-capable keys (Gemini or OpenRouter) are present, otherwise defaulting to `.raw`.
- Transcription logic follows a fallback chain: configured cloud providers are attempted first, followed by on-device Apple Speech.
- Microphone selection automatically falls back to the system default if the user-selected device becomes unavailable.
- The global hotkey is hardcoded to "Option+Space" in the UI components.