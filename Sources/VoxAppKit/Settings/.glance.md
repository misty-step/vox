## Purpose
This directory provides the user interface and state management for application settings. It handles configuration for global hotkeys, audio input devices, and cloud provider API keys used for transcription and text rewriting. The system integrates persistence via UserDefaults and the macOS Keychain while providing real-time UI updates through SwiftUI and Combine.

## Key Roles
- **PreferencesStore.swift**: Acts as the central state manager, handling persistence for processing levels, input devices, and API keys.
- **SettingsView.swift**: Serves as the primary UI container, coordinating the layout of settings sections and the cloud keys management sheet.
- **CloudProviderCatalog.swift**: Defines provider metadata and contains logic for generating configuration summaries for transcription and rewrite services.
- **CloudKeysSheet.swift**: Provides a secure interface for entering and committing API keys to the macOS Keychain.
- **BasicsSection.swift**: Manages the configuration for the application hotkey and microphone selection.
- **HotkeyState.swift**: Tracks the registration status of the global shortcut and provides a retry mechanism for availability conflicts.
- **SettingsSection.swift**: Implements a reusable UI component for grouping related settings with standardized styling and prominence levels.

## Dependencies and Caveats
- Integrates with `VoxMac` and `VoxCore` for keychain access, audio device observation, and core data types.
- API keys are stored securely in the macOS Keychain via a `KeychainHelper` utility.
- Environment variables (e.g., `ELEVENLABS_API_KEY`, `GEMINI_API_KEY`) override Keychain-stored values for API key retrieval.
- Transcription services fall back to on-device Apple Speech if no cloud provider keys are configured.
- Microphone selection automatically falls back to the system default if the user-selected device is unavailable.
- The default processing level is determined at first launch based on the presence of AI rewrite keys (Gemini or OpenRouter).
- Hotkey availability is monitored; a warning and retry button are displayed if `Option+Space` is claimed by another application.
- API key edits in the UI are buffered locally and only committed to the store upon user submission or when the view disappears.